<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perturbation Efficiency in A Sample Dataset • ceRNAnetsim</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Perturbation Efficiency in A Sample Dataset">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-84499524-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84499524-2');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ceRNAnetsim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/basic_usage.html">What does ceRNAnetsim do?</a>
    </li>
    <li>
      <a href="../articles/small_sample.html">Small example demonstrating the approach and the method</a>
    </li>
    <li>
      <a href="../articles/convenient_iteration.html">How to calculate proper number of iterations for simulation of the network</a>
    </li>
    <li>
      <a href="../articles/perturbation_sample.html">How to determine most effective node of network in equal conditions</a>
    </li>
    <li>
      <a href="../articles/realexample.html">How does the system do in the presence of interaction factors?</a>
    </li>
    <li>
      <a href="../articles/mirtarbase_example.html">How does the system behave in mirtarbase dataset without interaction factors?</a>
    </li>
    <li>
      <a href="../articles/auxiliary_commands.html">Helper Commands</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/selcenari/ceRNAnetsim">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Perturbation Efficiency in A Sample Dataset</h1>
                        <h4 class="author">Selcen Ari</h4>
            
            <h4 class="date">2019-10-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/selcenari/ceRNAnetsim/blob/master/vignettes/perturbation_sample.Rmd"><code>vignettes/perturbation_sample.Rmd</code></a></small>
      <div class="hidden name"><code>perturbation_sample.Rmd</code></div>

    </div>

    
    
<div id="what-is-perturbation-efficiency" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-perturbation-efficiency" class="anchor"></a>What is perturbation efficiency?</h2>
<p>The perturbation efficiency means that the disturbance and propagation efficiency of an element in the network. In a given network not all nodes have same or similar perturbation efficiency. Changes in some nodes might propagate to whole network and for some nodes the effect might be limited to small subgraph of the network. Not only topology but also miRNA:target interaction dynamics determine perturbation efficiency.</p>
<ul>
<li><p>Expression level and type of trigger element plays a crucial role. The trigger element can be an miRNA or competing target. The perturbation efficiency is affected from ratio of miRNA amount to sum of expression levels of its targets. Also, amount of competing element among whole competing elements is important since it determines distribution of miRNA. For example, if trigger is an miRNA with expression level of 1500 and if sum of expression levels of its targets is 1000000, then this miRNA will not perturb its neighborhood efficiently. So, miRNA:target ratio is important for regulation of interaction network.</p></li>
<li><p>In a biological system, the miRNA:target interactions does not depend solely on stoichiometry, unfortunately. miRNAs affect the targets via degradation or inhibition after the binding. The experimental studies have shown that the features of miRNA:target interactions determine the binding and degradation efficiency. For example, binding energy between miRNA and target and seed structure of miRNA determine the binding efficiency of complex. In addition, the binding region on the target affects the degradation of target.</p></li>
<li><p>On the other hand, interaction factors affecting binding and degradation of miRNA to its targets also have impact one efficiency of perturbation of the change. For instance, if a node has very low binding affinity to targeting miRNA, change in expression level of that node will cause weak or no perturbation.</p></li>
</ul>
<p>Thus, we developed functions which can calculate perturbation efficiency of a given node or all nodes. <code><a href="../reference/calc_perturbation.html">calc_perturbation()</a></code> function calculates perturbation efficiency for given trigger (<em>e.g.</em> Gene17 2-fold). <code><a href="../reference/find_node_perturbation.html">find_node_perturbation()</a></code> function screens the whole network and calculate perturbation efficiency of all nodes.</p>
</div>
<div id="load-the-midsamp" class="section level2">
<h2 class="hasAnchor">
<a href="#load-the-midsamp" class="anchor"></a>Load the <em>midsamp</em>
</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co"># devtools::install_github("selcenari/ceRNAnetsim")</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ceRNAnetsim)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"midsamp"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a>midsamp</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt;     Genes miRNAs Gene_expression miRNA_expression seeds targeting_region</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; 1   Gene1   Mir1           10000             1000  0.43             0.30</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; 2   Gene2   Mir1           10000             1000  0.43             0.01</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; 3   Gene3   Mir1            5000             1000  0.32             0.40</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; 4   Gene4   Mir1           10000             1000  0.23             0.50</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#&gt; 5   Gene4   Mir2           10000             2000  0.35             0.90</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt; 6   Gene5   Mir2            5000             2000  0.05             0.40</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">#&gt; 7   Gene6   Mir2           10000             2000  0.01             0.80</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#&gt; 8   Gene4   Mir3           10000             3000  0.43             0.40</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">#&gt; 9   Gene6   Mir3           10000             3000  0.35             0.90</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">#&gt; 10  Gene7   Mir3            7000             3000  0.23             0.30</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">#&gt; 11  Gene8   Mir3            3000             3000  0.01             0.20</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">#&gt; 12  Gene6   Mir4           10000             5000  0.05             0.40</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">#&gt; 13  Gene9   Mir4            6000             5000  0.32             0.80</span></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="co">#&gt; 14 Gene10   Mir4            2000             5000  0.43             0.20</span></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="co">#&gt; 15 Gene11   Mir4            8000             5000  0.35             0.90</span></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="co">#&gt; 16 Gene12   Mir4            1500             5000  0.43             0.40</span></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="co">#&gt; 17 Gene13   Mir4             500             5000  0.23             0.90</span></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="co">#&gt; 18 Gene14   Mir4            7000             5000  0.43             0.80</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">#&gt; 19 Gene14   Mir3            7000             3000  0.43             0.90</span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co">#&gt; 20 Gene15   Mir3            3000             3000  0.35             0.20</span></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co">#&gt; 21 Gene16   Mir3            2000             3000  0.01             0.80</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="co">#&gt; 22 Gene17   Mir3            6000             3000  0.23             0.40</span></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="co">#&gt; 23 Gene17   Mir2            6000             2000  0.35             0.90</span></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co">#&gt; 24 Gene18   Mir2            1000             2000  0.01             0.01</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="co">#&gt; 25 Gene19   Mir2            6500             2000  0.43             0.90</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="co">#&gt; 26 Gene20   Mir2            4800             2000  0.35             0.80</span></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="co">#&gt;    Energy</span></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="co">#&gt; 1     -20</span></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="co">#&gt; 2     -15</span></span>
<span id="cb1-36"><a href="#cb1-36"></a><span class="co">#&gt; 3     -14</span></span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="co">#&gt; 4     -10</span></span>
<span id="cb1-38"><a href="#cb1-38"></a><span class="co">#&gt; 5     -12</span></span>
<span id="cb1-39"><a href="#cb1-39"></a><span class="co">#&gt; 6     -11</span></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="co">#&gt; 7     -25</span></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="co">#&gt; 8      -6</span></span>
<span id="cb1-42"><a href="#cb1-42"></a><span class="co">#&gt; 9     -15</span></span>
<span id="cb1-43"><a href="#cb1-43"></a><span class="co">#&gt; 10    -20</span></span>
<span id="cb1-44"><a href="#cb1-44"></a><span class="co">#&gt; 11    -30</span></span>
<span id="cb1-45"><a href="#cb1-45"></a><span class="co">#&gt; 12    -12</span></span>
<span id="cb1-46"><a href="#cb1-46"></a><span class="co">#&gt; 13    -18</span></span>
<span id="cb1-47"><a href="#cb1-47"></a><span class="co">#&gt; 14    -23</span></span>
<span id="cb1-48"><a href="#cb1-48"></a><span class="co">#&gt; 15    -25</span></span>
<span id="cb1-49"><a href="#cb1-49"></a><span class="co">#&gt; 16    -30</span></span>
<span id="cb1-50"><a href="#cb1-50"></a><span class="co">#&gt; 17    -17</span></span>
<span id="cb1-51"><a href="#cb1-51"></a><span class="co">#&gt; 18    -15</span></span>
<span id="cb1-52"><a href="#cb1-52"></a><span class="co">#&gt; 19    -25</span></span>
<span id="cb1-53"><a href="#cb1-53"></a><span class="co">#&gt; 20    -12</span></span>
<span id="cb1-54"><a href="#cb1-54"></a><span class="co">#&gt; 21    -18</span></span>
<span id="cb1-55"><a href="#cb1-55"></a><span class="co">#&gt; 22    -22</span></span>
<span id="cb1-56"><a href="#cb1-56"></a><span class="co">#&gt; 23     -7</span></span>
<span id="cb1-57"><a href="#cb1-57"></a><span class="co">#&gt; 24    -30</span></span>
<span id="cb1-58"><a href="#cb1-58"></a><span class="co">#&gt; 25    -32</span></span>
<span id="cb1-59"><a href="#cb1-59"></a><span class="co">#&gt; 26    -18</span></span></code></pre></div>
</div>
<div id="how-does-the-calc_perturbation-work" class="section level2">
<h2 class="hasAnchor">
<a href="#how-does-the-calc_perturbation-work" class="anchor"></a>How does the <code>calc_perturbation()</code> work?</h2>
<p>This function works for a given node from network. It calculates and returns two values:</p>
<ul>
<li>
<strong>perturbation efficiency</strong> : mean of percentage of expression changes of all elements except trigger in the network</li>
<li>
<strong>perturbed count</strong> : count of disturbed nodes for given iteration number and limit (the minimum change in expression level needed to be considered “disturbed” or “changed”).</li>
</ul>
<p>In the example below, “Gene17” is up-regulated 3-fold in <em>midsamp</em> dataset where <code>Energy</code> and <code>seeds</code> columns are used for calculating affinity effect and <code>targeting_region</code> columns is used for calculating degradation effect. The network will be iterated over 30 times and number of disturbed nodes (as taking into account nodes that have changed more than the value of the threshold (0.1 percentage in terms of the change)) will be counted.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>midsamp <span class="op">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="st">  </span><span class="kw"><a href="../reference/priming_graph.html">priming_graph</a></span>(<span class="dt">competing_count =</span> Gene_expression, </span>
<span id="cb2-3"><a href="#cb2-3"></a>                <span class="dt">miRNA_count =</span> miRNA_expression,</span>
<span id="cb2-4"><a href="#cb2-4"></a>                <span class="dt">aff_factor =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(Energy,seeds), </span>
<span id="cb2-5"><a href="#cb2-5"></a>                <span class="dt">deg_factor =</span> targeting_region) <span class="op">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="st">  </span><span class="kw"><a href="../reference/calc_perturbation.html">calc_perturbation</a></span>(<span class="st">"Gene17"</span>, <span class="dv">3</span>, <span class="dt">cycle =</span> <span class="dv">30</span>, <span class="dt">limit =</span> <span class="fl">0.1</span>)</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt; Warning in priming_graph(., competing_count = Gene_expression, miRNA_count = miRNA_expression, : First column is processed as competing and the second as miRNA.</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt; # A tibble: 1 x 2</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#&gt;   perturbation_efficiency perturbed_count</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt;                     &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">#&gt; 1                   0.377               8</span></span></code></pre></div>
<p>If you are interested in testing various fold change values of a given node, then we can use <code>map</code> (actually parallelized version <code>future_map</code>) to run function for set of input values.</p>
<p>First, let’s keep the primed version of graph in an object</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>primed_mid &lt;-<span class="st"> </span>midsamp <span class="op">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span><span class="kw"><a href="../reference/priming_graph.html">priming_graph</a></span>(<span class="dt">competing_count =</span> Gene_expression, </span>
<span id="cb3-3"><a href="#cb3-3"></a>                <span class="dt">miRNA_count =</span> miRNA_expression,</span>
<span id="cb3-4"><a href="#cb3-4"></a>                <span class="dt">aff_factor =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(Energy,seeds), </span>
<span id="cb3-5"><a href="#cb3-5"></a>                <span class="dt">deg_factor =</span> targeting_region)</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; Warning in priming_graph(., competing_count = Gene_expression, miRNA_count = miRNA_expression, : First column is processed as competing and the second as miRNA.</span></span></code></pre></div>
<p>Now, let’s calculate perturbation efficiency caused by 2-fold to 10-fold increase in Gene17</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># for parallel processing</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># future::plan(multiprocess) </span></span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">2</span>,<span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="st">  </span>rlang<span class="op">::</span><span class="kw"><a href="https://rlang.r-lib.org/reference/set_names.html">set_names</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="st">  </span>furrr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/furrr/man/future_map.html">future_map_dfr</a></span>(<span class="op">~</span><span class="st"> </span>primed_mid <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/calc_perturbation.html">calc_perturbation</a></span>(<span class="st">"Gene17"</span>, .x, <span class="dt">cycle =</span> <span class="dv">30</span>, <span class="dt">limit =</span> <span class="fl">0.1</span>), <span class="dt">.id=</span><span class="st">"fold_change"</span>)</span></code></pre></div>
<p>If you’re interested in screening nodes instead of fold changes then you don’t have to write a complicated <code>map</code> command, there’s already a function available for that purpose.</p>
</div>
<div id="how-does-the-find_node_perturbation-work" class="section level2">
<h2 class="hasAnchor">
<a href="#how-does-the-find_node_perturbation-work" class="anchor"></a>How does the <code>find_node_perturbation()</code> work?</h2>
<p>The <code><a href="../reference/find_node_perturbation.html">find_node_perturbation()</a></code> function calculates the perturbation efficiency and perturbed node count of each node in network.</p>
<p>In the example below, each node is increased 2-fold and tested for perturbation efficiency for 4 cycles with threshold of 0.1</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>midsamp <span class="op">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw"><a href="../reference/priming_graph.html">priming_graph</a></span>(<span class="dt">competing_count =</span> Gene_expression,</span>
<span id="cb5-3"><a href="#cb5-3"></a>                <span class="dt">miRNA_count =</span> miRNA_expression,</span>
<span id="cb5-4"><a href="#cb5-4"></a>                <span class="dt">aff_factor =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(Energy,seeds),</span>
<span id="cb5-5"><a href="#cb5-5"></a>                <span class="dt">deg_factor =</span> targeting_region) <span class="op">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">  </span><span class="kw"><a href="../reference/find_node_perturbation.html">find_node_perturbation</a></span>(<span class="dt">how =</span> <span class="dv">3</span>, <span class="dt">cycle =</span> <span class="dv">4</span>, <span class="dt">limit =</span> <span class="fl">0.1</span>)<span class="op">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="st">  </span><span class="kw">select</span>(name, perturbation_efficiency, perturbed_count)</span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; Warning in priming_graph(., competing_count = Gene_expression, miRNA_count = miRNA_expression, : First column is processed as competing and the second as miRNA.</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; # A tibble: 24 x 3</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt;    name   perturbation_efficiency perturbed_count</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt;    &lt;chr&gt;                    &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt;  1 Gene1                  0.0626                2</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt;  2 Gene2                  0.0974                3</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt;  3 Gene3                  0.0311                2</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt;  4 Gene4                  0.561                10</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">#&gt;  5 Gene5                  0.0366                3</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">#&gt;  6 Gene6                  0.505                12</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">#&gt;  7 Gene7                  0.251                 6</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">#&gt;  8 Gene8                  0.00973               0</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">#&gt;  9 Gene9                  0.688                 6</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="co">#&gt; 10 Gene10                 0.510                 6</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="co">#&gt; # ... with 14 more rows</span></span></code></pre></div>
<p>On the other hand, some of nodes in network might not be affected from perturbation because of low expression or weak interaction factors. In this case, <code>fast</code> argument can be used. Argument <code>fast</code> calculate affected expression percent of the targets and perturbation calculation is not ran for these elements in network, if that percentage value is smaller than given <code>fast</code> value.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>midsamp <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw"><a href="../reference/priming_graph.html">priming_graph</a></span>(<span class="dt">competing_count =</span> Gene_expression,</span>
<span id="cb6-3"><a href="#cb6-3"></a>                <span class="dt">miRNA_count =</span> miRNA_expression,</span>
<span id="cb6-4"><a href="#cb6-4"></a>                <span class="dt">aff_factor =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(Energy,seeds),</span>
<span id="cb6-5"><a href="#cb6-5"></a>                <span class="dt">deg_factor =</span> targeting_region) <span class="op">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="st">  </span><span class="kw"><a href="../reference/find_node_perturbation.html">find_node_perturbation</a></span>(<span class="dt">how =</span> <span class="dv">3</span>, <span class="dt">cycle =</span> <span class="dv">4</span>, <span class="dt">limit =</span> <span class="fl">0.1</span>, <span class="dt">fast=</span><span class="dv">5</span>)<span class="op">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="st">  </span><span class="kw">select</span>(name, perturbation_efficiency, perturbed_count)</span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; Warning in priming_graph(., competing_count = Gene_expression, miRNA_count = miRNA_expression, : First column is processed as competing and the second as miRNA.</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt; Warning: `as_quosure()` requires an explicit environment as of rlang 0.3.0.</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt; Please supply `env`.</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt; This warning is displayed once per session.</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt; Subsetting by edges</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt; Warning: `cols` is now required.</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">#&gt; Please use `cols = c(eff_count)`</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">#&gt; # A tibble: 24 x 3</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">#&gt;    name   perturbation_efficiency perturbed_count</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">#&gt;    &lt;chr&gt;                    &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">#&gt;  1 Gene1                    NA                 NA</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">#&gt;  2 Gene2                    NA                 NA</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">#&gt;  3 Gene3                    NA                 NA</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">#&gt;  4 Gene4                    NA                 NA</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">#&gt;  5 Gene5                    NA                 NA</span></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co">#&gt;  6 Gene6                     1.26               8</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="co">#&gt;  7 Gene7                    NA                 NA</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="co">#&gt;  8 Gene8                    NA                 NA</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">#&gt;  9 Gene9                     3.12               8</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="co">#&gt; 10 Gene10                    2.90               8</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="co">#&gt; # ... with 14 more rows</span></span></code></pre></div>
<p>The results of the <code><a href="../reference/find_node_perturbation.html">find_node_perturbation()</a></code> will list effectiveness or importance of nodes in the network. This function can help selecting nodes which will have effective perturbation in network.</p>
</div>
<div id="what-are-the-limitations" class="section level2">
<h2 class="hasAnchor">
<a href="#what-are-the-limitations" class="anchor"></a>What are the limitations?</h2>
<p><code><a href="../reference/find_node_perturbation.html">find_node_perturbation()</a></code> runs <code>calc_perturb</code> on all nodes in the network in parallel with help of the <code>future</code> and <code>furrr</code> packages. In this vignette, the function is demonstrated on the <code>midsamp</code> data. This dataset is not comparable to actual biological miRNA:target gene datasets in size and complexity. Although <code><a href="../reference/find_node_perturbation.html">find_node_perturbation()</a></code> runs in parallel it might take long time to run in real huge biological datasets.</p>
<p>In real biological datasets, more complex interactions whether functional or non-functional could be observed. We have improved our approach with <code>fast</code> argument in <code><a href="../reference/find_node_perturbation.html">find_node_perturbation()</a></code> based on selection of elements that could be affected from perturbation. In this fucntion, <code>fast</code> argument specifies the percentage of the competing amount that can be affected within the initial competing amount and acts as a selection parameter. For instance, in huge_example data:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"huge_example"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>huge_example<span class="op">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw"><a href="../reference/priming_graph.html">priming_graph</a></span>(<span class="dt">competing_count =</span> competing_counts, <span class="dt">miRNA_count =</span> mirnaexpression_normal)<span class="op">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">  </span><span class="kw"><a href="../reference/find_node_perturbation.html">find_node_perturbation</a></span>(<span class="dt">how=</span><span class="dv">5</span>, <span class="dt">cycle=</span><span class="dv">3</span>, <span class="dt">fast =</span> <span class="dv">3</span>)<span class="op">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">  </span><span class="kw">select</span>(name, perturbation_efficiency, perturbed_count)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>huge_example<span class="op">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw"><a href="../reference/priming_graph.html">priming_graph</a></span>(<span class="dt">competing_count =</span> competing_counts, <span class="dt">miRNA_count =</span> mirnaexpression_normal)<span class="op">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw"><a href="../reference/find_node_perturbation.html">find_node_perturbation</a></span>(<span class="dt">how=</span><span class="dv">5</span>, <span class="dt">cycle=</span><span class="dv">3</span>, <span class="dt">fast =</span> <span class="dv">3</span>)<span class="op">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(perturbation_efficiency), <span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(perturbed_count))<span class="op">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="st">  </span><span class="kw">select</span>(name, perturbation_efficiency, perturbed_count)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th><em>name</em></th>
<th><em>perturbation_efficiency</em></th>
<th><em>perturbed_count</em></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>AK2</td>
<td>7.938457e-02</td>
<td>542</td>
</tr>
<tr class="even">
<td>SLC25A5</td>
<td>1.540258e-01</td>
<td>542</td>
</tr>
<tr class="odd">
<td>MSL3</td>
<td>3.241137e-02</td>
<td>542</td>
</tr>
<tr class="even">
<td>MYCBP2</td>
<td>3.141119e-02</td>
<td>514</td>
</tr>
<tr class="odd">
<td>VPS41</td>
<td>2.116591e-02</td>
<td>514</td>
</tr>
<tr class="even">
<td>ADIPOR2</td>
<td>8.039431e-02</td>
<td>542</td>
</tr>
<tr class="odd">
<td>CELSR3</td>
<td>2.220963e-03</td>
<td>542</td>
</tr>
<tr class="even">
<td>SCMH1</td>
<td>4.186803e-02</td>
<td>542</td>
</tr>
<tr class="odd">
<td>EXTL3</td>
<td>4.015119e-02</td>
<td>542</td>
</tr>
<tr class="even">
<td>NR1H4</td>
<td>1.033477e-05</td>
<td>542</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#what-is-perturbation-efficiency">What is perturbation efficiency?</a></li>
      <li><a href="#load-the-midsamp">Load the <em>midsamp</em></a></li>
      <li><a href="#how-does-the-calc_perturbation-work">How does the <code>calc_perturbation()</code> work?</a></li>
      <li><a href="#how-does-the-find_node_perturbation-work">How does the <code>find_node_perturbation()</code> work?</a></li>
      <li><a href="#what-are-the-limitations">What are the limitations?</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Selcen Ari Yuka, Alper Yilmaz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'fbd8d79ed49f21fc9ca7b2cf601a3f5b',
    indexName: 'ceRNAnetsim',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
